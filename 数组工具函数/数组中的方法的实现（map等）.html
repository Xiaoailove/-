<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>玉树临风美少年，揽镜自顾夜不眠 </title>
  
</head>
<body>
  <script type="text/javascript">
  // filter---返回新数组,每个元素都要通过该函数的测试
  // some--数组中如果有元素满足条件,就返回true
  // map----每个元素都会调用传入的函数,返回一个新数组
  // reduce---计数
  //find---查找
  // every---遍历

  // 实现map
  Array.prototype.myMap=function(callback){
    const arr=[]
    for(let i=0;i<this.length;i++){
      arr.push(callback(this[i],i))
    }
    return arr
  }
  const arr1=[10,20,30,40].myMap((item,index)=>{
    if(index%2===0){
      return item*2
    }else{
      return item*3
    }
  })
  console.log(arr1)
  // 实现reduce
  Array.prototype.myReduce=function(callback,initVal){
    let total=initVal
    for(let i=0;i<this.length;i++){
      total=callback(total,this[i],i)
    }
    return total
  }
  const result=[0,1,2,3,4].myReduce((pre,item,index)=>{
    if(index%2===1&&item%2===1){
      pre+=item
    }
    return pre
  },0)
  console.log(result)
  // 实现filter
  Array.prototype.myFilter=function(callback){
    const arr=[]
    for(let i=0;i<this.length;i++){
      if(callback(this[i],i)){
        arr.push(this[i])
      }
    }
    return arr
  }
  const arr3=[1,3,4,5,6].myFilter((item,index)=>index%2===1&&item%2===1)
  console.log(arr3)
  // 实现every
  Array.prototype.myEvery=function(callback){
    for(let i=0;i<this.length;i++){
      if(!callback(this[i],i)){
        return false
      }
    }
    return true
  }
  console.log([1,2,3,4,5].myEvery((item,index)=>item>3))

  // 实现some
  Array.prototype.mySome=function(callback){
    for(let i=0;i<this.length;i++){
      if(callback(this[i],i)){
        return true
      }
    }
    return false
  }
  //实现find
  Array.prototype.myFind=function(callback){
    for (let index = 0; index < this.length; index++) {
      let item
      if (callback(this[index],index)) {
        item=this[index]
        return item
      }
    }
  }
  //实现findIndex
  Array.prototype.myFindIndex=function(callback){
    for (let index = 0; index < this.length; index++) {
      if (callback(this[index],index)) {
        return index
      }
    }
  }
  console.log([1,2,3,4,5].myFindIndex((item,index)=>item>1))
  </script>
</body>
</html>